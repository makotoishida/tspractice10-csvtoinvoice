const z=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}};z();/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var E;const _=globalThis.trustedTypes,P=_?_.createPolicy("lit-html",{createHTML:n=>n}):void 0,v=`lit$${(Math.random()+"").slice(9)}$`,U="?"+v,j=`<${U}>`,f=document,b=(n="")=>f.createComment(n),x=n=>n===null||typeof n!="object"&&typeof n!="function",q=Array.isArray,Z=n=>{var t;return q(n)||typeof((t=n)===null||t===void 0?void 0:t[Symbol.iterator])=="function"},y=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,D=/-->/g,k=/>/g,A=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,B=/'/g,F=/"/g,V=/^(?:script|style|textarea|title)$/i,K=n=>(t,...e)=>({_$litType$:n,strings:t,values:e}),w=K(1),N=Symbol.for("lit-noChange"),u=Symbol.for("lit-nothing"),O=new WeakMap,Q=(n,t,e)=>{var i,s;const r=(i=e==null?void 0:e.renderBefore)!==null&&i!==void 0?i:t;let o=r._$litPart$;if(o===void 0){const h=(s=e==null?void 0:e.renderBefore)!==null&&s!==void 0?s:null;r._$litPart$=o=new C(t.insertBefore(b(),h),h,void 0,e!=null?e:{})}return o._$AI(n),o},m=f.createTreeWalker(f,129,null,!1),G=(n,t)=>{const e=n.length-1,i=[];let s,r=t===2?"<svg>":"",o=y;for(let l=0;l<e;l++){const a=n[l];let p,c,d=-1,$=0;for(;$<a.length&&(o.lastIndex=$,c=o.exec(a),c!==null);)$=o.lastIndex,o===y?c[1]==="!--"?o=D:c[1]!==void 0?o=k:c[2]!==void 0?(V.test(c[2])&&(s=RegExp("</"+c[2],"g")),o=A):c[3]!==void 0&&(o=A):o===A?c[0]===">"?(o=s!=null?s:y,d=-1):c[1]===void 0?d=-2:(d=o.lastIndex-c[2].length,p=c[1],o=c[3]===void 0?A:c[3]==='"'?F:B):o===F||o===B?o=A:o===D||o===k?o=y:(o=A,s=void 0);const T=o===A&&n[l+1].startsWith("/>")?" ":"";r+=o===y?a+j:d>=0?(i.push(p),a.slice(0,d)+"$lit$"+a.slice(d)+v+T):a+v+(d===-2?(i.push(void 0),l):T)}const h=r+(n[e]||"<?>")+(t===2?"</svg>":"");if(!Array.isArray(n)||!n.hasOwnProperty("raw"))throw Error("invalid template strings array");return[P!==void 0?P.createHTML(h):h,i]};class H{constructor({strings:t,_$litType$:e},i){let s;this.parts=[];let r=0,o=0;const h=t.length-1,l=this.parts,[a,p]=G(t,e);if(this.el=H.createElement(a,i),m.currentNode=this.el.content,e===2){const c=this.el.content,d=c.firstChild;d.remove(),c.append(...d.childNodes)}for(;(s=m.nextNode())!==null&&l.length<h;){if(s.nodeType===1){if(s.hasAttributes()){const c=[];for(const d of s.getAttributeNames())if(d.endsWith("$lit$")||d.startsWith(v)){const $=p[o++];if(c.push(d),$!==void 0){const T=s.getAttribute($.toLowerCase()+"$lit$").split(v),S=/([.?@])?(.*)/.exec($);l.push({type:1,index:r,name:S[2],strings:T,ctor:S[1]==="."?X:S[1]==="?"?tt:S[1]==="@"?et:I})}else l.push({type:6,index:r})}for(const d of c)s.removeAttribute(d)}if(V.test(s.tagName)){const c=s.textContent.split(v),d=c.length-1;if(d>0){s.textContent=_?_.emptyScript:"";for(let $=0;$<d;$++)s.append(c[$],b()),m.nextNode(),l.push({type:2,index:++r});s.append(c[d],b())}}}else if(s.nodeType===8)if(s.data===U)l.push({type:2,index:r});else{let c=-1;for(;(c=s.data.indexOf(v,c+1))!==-1;)l.push({type:7,index:r}),c+=v.length-1}r++}}static createElement(t,e){const i=f.createElement("template");return i.innerHTML=t,i}}function g(n,t,e=n,i){var s,r,o,h;if(t===N)return t;let l=i!==void 0?(s=e._$Cl)===null||s===void 0?void 0:s[i]:e._$Cu;const a=x(t)?void 0:t._$litDirective$;return(l==null?void 0:l.constructor)!==a&&((r=l==null?void 0:l._$AO)===null||r===void 0||r.call(l,!1),a===void 0?l=void 0:(l=new a(n),l._$AT(n,e,i)),i!==void 0?((o=(h=e)._$Cl)!==null&&o!==void 0?o:h._$Cl=[])[i]=l:e._$Cu=l),l!==void 0&&(t=g(n,l._$AS(n,t.values),l,i)),t}class J{constructor(t,e){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var e;const{el:{content:i},parts:s}=this._$AD,r=((e=t==null?void 0:t.creationScope)!==null&&e!==void 0?e:f).importNode(i,!0);m.currentNode=r;let o=m.nextNode(),h=0,l=0,a=s[0];for(;a!==void 0;){if(h===a.index){let p;a.type===2?p=new C(o,o.nextSibling,this,t):a.type===1?p=new a.ctor(o,a.name,a.strings,this,t):a.type===6&&(p=new it(o,this,t)),this.v.push(p),a=s[++l]}h!==(a==null?void 0:a.index)&&(o=m.nextNode(),h++)}return r}m(t){let e=0;for(const i of this.v)i!==void 0&&(i.strings!==void 0?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}}class C{constructor(t,e,i,s){var r;this.type=2,this._$AH=u,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=s,this._$Cg=(r=s==null?void 0:s.isConnected)===null||r===void 0||r}get _$AU(){var t,e;return(e=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&e!==void 0?e:this._$Cg}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return e!==void 0&&t.nodeType===11&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=g(this,t,e),x(t)?t===u||t==null||t===""?(this._$AH!==u&&this._$AR(),this._$AH=u):t!==this._$AH&&t!==N&&this.$(t):t._$litType$!==void 0?this.T(t):t.nodeType!==void 0?this.k(t):Z(t)?this.S(t):this.$(t)}M(t,e=this._$AB){return this._$AA.parentNode.insertBefore(t,e)}k(t){this._$AH!==t&&(this._$AR(),this._$AH=this.M(t))}$(t){this._$AH!==u&&x(this._$AH)?this._$AA.nextSibling.data=t:this.k(f.createTextNode(t)),this._$AH=t}T(t){var e;const{values:i,_$litType$:s}=t,r=typeof s=="number"?this._$AC(t):(s.el===void 0&&(s.el=H.createElement(s.h,this.options)),s);if(((e=this._$AH)===null||e===void 0?void 0:e._$AD)===r)this._$AH.m(i);else{const o=new J(r,this),h=o.p(this.options);o.m(i),this.k(h),this._$AH=o}}_$AC(t){let e=O.get(t.strings);return e===void 0&&O.set(t.strings,e=new H(t)),e}S(t){q(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let i,s=0;for(const r of t)s===e.length?e.push(i=new C(this.M(b()),this.M(b()),this,this.options)):i=e[s],i._$AI(r),s++;s<e.length&&(this._$AR(i&&i._$AB.nextSibling,s),e.length=s)}_$AR(t=this._$AA.nextSibling,e){var i;for((i=this._$AP)===null||i===void 0||i.call(this,!1,!0,e);t&&t!==this._$AB;){const s=t.nextSibling;t.remove(),t=s}}setConnected(t){var e;this._$AM===void 0&&(this._$Cg=t,(e=this._$AP)===null||e===void 0||e.call(this,t))}}class I{constructor(t,e,i,s,r){this.type=1,this._$AH=u,this._$AN=void 0,this.element=t,this.name=e,this._$AM=s,this.options=r,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=u}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,i,s){const r=this.strings;let o=!1;if(r===void 0)t=g(this,t,e,0),o=!x(t)||t!==this._$AH&&t!==N,o&&(this._$AH=t);else{const h=t;let l,a;for(t=r[0],l=0;l<r.length-1;l++)a=g(this,h[i+l],e,l),a===N&&(a=this._$AH[l]),o||(o=!x(a)||a!==this._$AH[l]),a===u?t=u:t!==u&&(t+=(a!=null?a:"")+r[l+1]),this._$AH[l]=a}o&&!s&&this.C(t)}C(t){t===u?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t!=null?t:"")}}class X extends I{constructor(){super(...arguments),this.type=3}C(t){this.element[this.name]=t===u?void 0:t}}const Y=_?_.emptyScript:"";class tt extends I{constructor(){super(...arguments),this.type=4}C(t){t&&t!==u?this.element.setAttribute(this.name,Y):this.element.removeAttribute(this.name)}}class et extends I{constructor(t,e,i,s,r){super(t,e,i,s,r),this.type=5}_$AI(t,e=this){var i;if((t=(i=g(this,t,e,0))!==null&&i!==void 0?i:u)===N)return;const s=this._$AH,r=t===u&&s!==u||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,o=t!==u&&(s===u||r);r&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,i;typeof this._$AH=="function"?this._$AH.call((i=(e=this.options)===null||e===void 0?void 0:e.host)!==null&&i!==void 0?i:this.element,t):this._$AH.handleEvent(t)}}class it{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){g(this,t)}}const R=window.litHtmlPolyfillSupport;R==null||R(H,C),((E=globalThis.litHtmlVersions)!==null&&E!==void 0?E:globalThis.litHtmlVersions=[]).push("2.2.2");const st=n=>new Promise((t,e)=>{const i=new FileReader;i.onerror=()=>e(i.error),i.onload=()=>t(i.result||""),i.readAsText(n)}),nt=n=>n.split(`
`).filter(t=>t.length>0).map(t=>t.split(",").map(e=>e.trim())),ot=n=>{const t={};return n.forEach(e=>{const[i,s,r,o,h,l,a,p,c,d]=e,$={invNum:i,invDate:s,custName:r,custAddress1:o,custAddress2:h,items:[{prodCode:l,prodName:a,price:parseFloat(p),quantity:parseFloat(c),note:d}]};i!=="invNum"&&(t[i]?t[i].items.push($.items[0]):t[i]=$)}),t},rt=n=>n.items.reduce((e,i)=>e+i.price*i.quantity,0),M=(n,t=2)=>n.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}),lt=document.querySelector("#app"),W=[],at=async n=>{const e=n.target.files;if(!e||e.length===0)return;const i=e[0],s=await st(i),r=nt(s),o=ot(r),h=Array.from(Object.values(o));console.log(h),L(h)},ct=n=>w` <tr>
    <td>${n.prodCode}</td>
    <td>
      ${n.prodName}
      <div class="note">${n.note}</div>
    </td>
    <td class="number">${M(n.price)}</td>
    <td class="number">${M(n.quantity,0)}</td>
    <td class="number">${M(n.price*n.quantity)}</td>
  </tr>`,ht=n=>{if(!n)return null;const t=rt(n);return w`<div class="invoice">
    <h3>Invoice #${n.invNum}</h3>
    <div class="customer">
      <div>Date: ${n.invDate}</div>
      <div>To: ${n.custName}</div>
      <div>${n.custAddress1}</div>
      <div>${n.custAddress2}</div>
    </div>
    <table class="invoice-items">
      <tr>
        <th>Code</th>
        <th>Name</th>
        <th class="number">Price</th>
        <th class="number">Quantity</th>
        <th class="number">Extended</th>
      </tr>
      ${n.items.map(e=>ct(e))}
      <tr class="total">
        <td colspan="4">&nbsp;</td>
        <td class="number">${M(t)}</td>
        <td>&nbsp;</td>
      </tr>
    </table>
    <a
      class="back"
      href="#"
      @click=${()=>{L(W)}}
      >&lt;&lt;</a
    >
  </div>`},dt=()=>w`<p>Please select a CSV file</p>
    <input type="file" @change=${at} accept="text/csv" />`,ut=n=>{const t=n[0];return w`<div>${t?ht(t):dt()}</div>`},L=n=>{Q(ut(n),lt)};L(W);
